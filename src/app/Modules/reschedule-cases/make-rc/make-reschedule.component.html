<div id="Kt-portlet-margin-top">
    <div class="kt-portlet">
      <!--[ngClass]="{ 'kt-portlet--body-progress' : viewLoading, 'kt-portlet--body-progress-overlay' : loadingAfterSubmit }"-->
      <div class="kt-portlet__head kt-portlet__head__custom" id="list-header">
        <div class="kt-portlet__head-label">
          <h3 class="kt-portlet__head-title">Make Reschedule</h3>
        </div>
      </div>
    </div>
    
    <form [formGroup]="mrForm" class="kt-form kt-form--group-seperator-dashed">
        
        <div class="kt-form">
            
            <div class="kt-portlet__body">
                
                <div>
                    
                    <div class="col-lg-11">
                        <div class="kt-portlet__body-progress">
                            <mat-spinner [diameter]="2"></mat-spinner>
                          </div>
                          <kt-alert *ngIf="hasFormErrors" type="warn" [duration]="30000" [showCloseButton]="true" (close)="onAlertClose($event)">
                            Please enter valid Input
                          </kt-alert>
                    </div>
                    
                    <div class="form-group kt-form__group row">

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline" >
                              <mat-label class="customMatLabel">Zone <strong class="matMandatory">*</strong></mat-label>
                              <input matInput placeholder="Enter Zone" formControlName="Zone" readonly="readonly" maxlength="30" autocomplete="off" />
                              <!-- <mat-select formControlName="Zone">
                                <mat-option *ngFor="let zone of SelectedZones" [value]="zone.ZoneId">
                                  {{zone.ZoneName}}
                                </mat-option>
                              </mat-select> -->
                            </mat-form-field>
                        </div>

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">Branch <strong class="matMandatory">*</strong></mat-label>
                              <input matInput placeholder="Enter Zone" formControlName="Branch" readonly="readonly" maxlength="30" autocomplete="off" />
                              <!-- <mat-select formControlName="Branch">
                                
                                <mat-option *ngFor="let branch of SelectedBranches" [value]="branch.BranchId">
                                  {{branch.Name}}
                                </mat-option>
                              </mat-select> -->
                            </mat-form-field>
                        </div>
                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">Transaction Date</mat-label>
                              <input matInput placeholder="Enter Tran Date" formControlName="TranDate" readonly="readonly" maxlength="13" autocomplete="off" />
                            </mat-form-field>
                        </div>

                    </div>
                    
                    <div class="form-group kt-form__group row">

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">LC# <strong class="matMandatory">*</strong></mat-label>
                              <input matInput placeholder="Enter Loan Case No" formControlName="Lcno"  maxlength="13" autocomplete="off" appNumberOnly />
                            </mat-form-field>
                        </div>

                        <div class="col-lg-1 kt-margin-bottom-20-mobile">
                          <input type="button" mat-raised-button color="primary" class=" mat-raised-button mat-button-base mat-primary searchLCBtn" (click)="subProposal()" value="Search"/>
                        </div>

                    </div>

                    <div class="form-group kt-form__group row">

                        <div *ngIf="!expand" class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                <mat-label class="customMatLabel">Sub Proposal <strong class="matMandatory">*</strong></mat-label>
                                <mat-select formControlName="LoanAppSanctionID">
                                  <mat-option *ngFor="let sub of SubProposalGLList" [value]="sub.LoanAppSanctionID" (click)="Disbursement(sub.LoanAppSanctionID)">
                                    {{sub.Description}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>

                        <div *ngIf="expand" class="col-lg-4 kt-margin-bottom-20-mobile">
                          <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">Sub Proposal <strong class="matMandatory">*</strong></mat-label>
                              <mat-select formControlName="LoanAppSanctionID">
                                <mat-option *ngFor="let sub of SubProposalGLList" [value]="sub.LoanAppSanctionID" (click)="Disbursement(sub.LoanAppSanctionID)">
                                  {{sub.Description}}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                      </div>
                    </div>

                    <div class="form-group kt-form__group row">

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                <mat-label class="customMatLabel">Disbursement <strong class="matMandatory">*</strong></mat-label>
                                <mat-select formControlName="LoanDisbID">                                  
                                   <mat-option *ngFor="let disbur of DisbursementGLList" [value]="disbur.LoanDisbID">
                                    {{disbur.Description}}
                                  </mat-option>                                 
                                </mat-select>
                              </mat-form-field>
                        </div>

                    </div>


                    <div class="form-group kt-form__group row">

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">New Gl Code<strong class="matMandatory">*</strong></mat-label>
                              <input matInput placeholder="Enter New Gl Code" formControlName="GlSubIDNew"  maxlength="13" autocomplete="off" />
                            </mat-form-field>
                        </div>

                        <div class="col-lg-1 kt-margin-bottom-20-mobile">
                          <input type="button" mat-raised-button color="primary" class=" mat-raised-button mat-button-base mat-primary searchLCBtn" (click)="newGlDialog()" value="Search"/>
                        </div>

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">New Scheme Code</mat-label>
                              <input matInput placeholder="Enter New Scheme Code" formControlName="SchemeCode"  maxlength="10" autocomplete="off" />
                            </mat-form-field>
                        </div>

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">New Crop Code</mat-label>
                              <input matInput placeholder="Enter New Corp Code" formControlName="CropCode"  maxlength="10" autocomplete="off" />
                            </mat-form-field>
                        </div>

                    </div>

                    <div class="form-group kt-form__group row">

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">Down Payment (%) <strong class="matMandatory">*</strong></mat-label>
                              <input matInput placeholder="Enter Down Payment" formControlName="AmountPayableForReschPer"  maxlength="5" autocomplete="off" />
                            </mat-form-field>
                        </div>

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">Grace Days(1st Installment)</mat-label>
                              <input matInput placeholder="Enter Manager Grace Days" formControlName="ProposalID" readonly="readonly" maxlength="13" autocomplete="off" />
                            </mat-form-field>
                        </div>

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                          <mat-form-field class="mat-form-field-fluid" appearance="outline">
                            <mat-label class="customMatLabel">Remarks<strong class="matMandatory">*</strong></mat-label>
                            <input matInput placeholder="Enter Remarks" formControlName="Remarks" autocomplete="off" />
                          </mat-form-field>
                      </div>

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                              <mat-label class="customMatLabel">Mark-UP Installment (%)</mat-label>
                              <input matInput placeholder="Enter Mark-UP Installment" formControlName="OutSDMarkupWithIstInstPer" readonly="readonly" maxlength="13" autocomplete="off" />
                            </mat-form-field>
                        </div>

                    </div>

                    <div class="form-group kt-form__group row">

                        <div class="col-lg-3 kt-margin-bottom-20-mobile">
                            <mat-form-field class="mat-form-field-fluid" appearance="outline">
                                <mat-label class="customMatLabel">Resch Type <strong class="matMandatory">*</strong></mat-label>
                                <mat-select formControlName="RescheduleTypeID">
                                  <mat-option *ngFor="let type of ReschedulingTypes" [value]="type.Value">
                                    {{type.Name}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>

                    </div>

                    

                </div>

            </div>
        </div>
        

    </form>

    <div class="col-lg-12">
      <div class="form-group kt-form__group">
        <button mat-raised-button class="mr-2" color="primary" (click)="SaveData()">Save</button>
         <button mat-raised-button class="mr-2" color="primary" (click)="SubmitData()">Submit</button>
        <button mat-raised-button class="mr-2" color="primary" (click)="clear()">Clear</button>
        <button mat-raised-button class="mr-2" color="primary" (click)="cancelTransaction()">Cancel Transaction</button>
        <span id="llcInquiryText" class="mr-2"  [routerLink]="['/reschedule-cases/pending-reschedule']"><b>Pending List</b></span>
        <span id="llcInquiryText" class="mr-2" [routerLink]="['/reschedule-cases/refer-back-reschedule']"><b>Referback List</b></span>
        <span id="llcInqiryText" (click)="viewLCInquiry()"><b>View LC Inquiry</b></span>
      </div>
  </div>
    
</div>
    
<kt-spinner></kt-spinner>
    
    <!-- <ngx-spinner bdColor="rgba(51,51,51,0.8)"
                 size="medium"
                 color="#ecbd00"
                 type="ball-scale-multiple">
      <p style="font-size: 20px; color: white">Loading...</p>
    </ngx-spinner> -->
